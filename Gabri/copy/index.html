<!DOCTYPE html>
<html>
<head>
	<title>Characters and Words | Gabri | A Product Manager's Best Friend</title>
	<meta name='viewport' content='width=device-width, initial-scale=1, viewport-fit=cover'>

	<!-- Styles and fonts -->
	<link rel="stylesheet" href="../main.css">
	<link rel="stylesheet" href="copy.css">
	<link href="http://fonts.googleapis.com/css?family=Raleway:700,400,200" rel="stylesheet" type="text/css">
	<link href="http://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

	<!-- Favicons -->
	<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
	<link rel="manifest" href="../site.webmanifest">
	<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#c61590">
	<meta name="apple-mobile-web-app-title" content="Gabri">
	<meta name="application-name" content="Gabri">
	<meta name="msapplication-TileColor" content="#c61590">
	<meta name="theme-color" content="#ffffff">

	<!-- Additional iOS Web App Titles -->
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">

	<!-- Facebook -->
	<meta property="og:image:height" content="327">
	<meta property="og:image:width" content="625">
	<meta property="og:description" content="Calculate A/B test results on the fly. Word and character counts on the go.">
	<meta property="og:title" content="Gabri | A Product Manager's Best Friend">
	<meta property="og:url" content="http://tinfelise.github.io/Gabri/">
	<meta property="og:image" content="http://tinfelise.github.io/Gabri/og-image.jpg">
</head>
<body>
	<div id='container'>
	    <header>
			<span class='instagramGradient gradientFont'>Gabri.</span>
			<nav>
				<a href='../index.html' class='instagramGradient gradientFont'>A/B Testing</a>
				<a href='index.html' class='instagramGradient gradientFont current'>Writing Copy</a>
			</nav>
		</header>
		<main>
			<h1>Let's count this, Gabri!</h1>
			<div class='counts'>
				<h2 class='instagramGradient gradientFont'>
					<span id='characters'>0</span> <span>Characters</span>
				</h2>
				<h2 class='instagramGradient gradientFont'>
					<span id='words'>0</span> <span>Words</span>
				</h2>
			</div>
			<textarea placeholder="Start typing..." rows="10" autofocus onkeyup="count(this)"></textarea>
				<a onclick='copy_input("textarea")' class='action instagramGradient gradientFont'>Copy</a>
				<a onclick='save("textarea")' class='action instagramGradient gradientFont'>Save</a>
		</main>
	</div>
	<div id="saved"></div>
	<footer>
		<span class='instagramGradient gradientFont'>Made by Tyler Infelise</span>
	</footer>
	<!-- Libraries & scripts -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script>
		function count (element) {
			var string = element.value
			var characters = string.length;
			var words = string.split(' ').filter(word => word.length > 0).length;
			$('#characters').html(characters);
			$('#words').html(words);
		};

		function copy_input (element) {
			$(element).select();
			document.execCommand('copy');
		};
		function copy_div (element) {
			var text = $(element).text();
			var targetID = "hiddenCopyText";
			var targetSelector = '#' + targetID;
			var target = $('#' + targetID);
			if ( target.length == 0) {
				target = document.createElement("textarea");
				target.style.position = "absolute";
				target.style.left = "-9999px";
				target.style.top = "0";
				target.id = targetID;
				document.body.appendChild(target);
				target.textContent = text;
			} else {
				target.text(text);
			};
			copy_input(targetSelector);
		};

		var saved = 0;
		function save (element) {
			saved++;
			var text = $(element).val();
			var output = '<p>' + text + '</p>';
				output += '<a class="action instagramGradient gradientFont" onclick="bye(\'#saved' + saved + '\')">Remove</a>';
				output += '<a class="action instagramGradient gradientFont" onclick="copy_div(\'#saved' + saved + ' p\')">Copy</a>';
				output = '<div id="saved' + saved + '">' + output + '</div>';
			$('#saved').append(output);
			$(element).select();
		};

		function bye (element) {
			$(element).remove();
		};
	</script>
</body>
</html>